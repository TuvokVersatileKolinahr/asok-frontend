<!DOCTYPE html>
<html>
<head>
  <title> freewall demo getting started</title>
  <script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
  <script src="js/freewall.js"></script>
  <script src="images.json"></script>
  <style type="text/css">
    #container {
      width: 80%;
      margin: auto;
    }
    .item {
      background: rgb(135, 199, 135);
      width: 320px;
      height: 320px;
      list-style-type: none;
    }
  </style>
</head>
<body>
<div id="freewall"></div>
<!--
  <ul id="container">
    <li class="item"></li>
    <li class="item"></li>
    <li class="item"></li>
    <li class="item"></li>
    <li class="item"></li>
    <li class="item"></li>
    <li class="item"></li>
  </ul>-->
  <script>
 //   $(function() {
 //     var wall = new freewall("#container");
 //     wall.fitWidth();
 //   });
console.log("Images: ", imagesColl);


var temp = "<div class='cell' style='width:{width}px; height: {height}px; background-image: url({dir}/{index}); background-size: cover;'></div>";
var w = 1, html = '', limitItem = 49;

//for (var i = 0; i < limitItem; ++i) {
for (var i = 0; i < imagesColl.collections[0]["image-list"].length; ++i) {
  w = 200 + 200 * Math.random() << 0;
  thisDir = imagesColl.collections[0]["base-dir"] + "/" + imagesColl.collections[0]["collection-dir"];
  html += temp.replace(/\{dir\}/g, thisDir).replace(/\{height\}/g, 200).replace(/\{width\}/g, w).replace("{index}", imagesColl.collections[0]["image-list"][i]);
}

$("#freewall").html(html);
var wall = new freewall("#freewall");
wall.reset({
  selector: '.cell',
  animate: true,
  cellW: 20,
  cellH: 200,
  onResize: function() {
    wall.fitWidth();
  }
});
wall.fitWidth();
// for scroll bar appear;
$(window).trigger("resize"); 
  </script>
</body>
</html>
